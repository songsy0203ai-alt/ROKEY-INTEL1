<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>APRS Main Menu</title>
  <style>
    body { background:#0b0f17; color:#e8eefc; font-family: system-ui, sans-serif; display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; margin:0; }
    h1 { margin-bottom: 40px; letter-spacing: 2px; text-transform: uppercase; }
    .menu-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; width: 80%; max-width: 800px; }
    .menu-item { 
      background: #141b2d; border: 1px solid #2a3558; padding: 40px; border-radius: 20px; 
      text-align: center; cursor: pointer; transition: all 0.3s ease; text-decoration: none; color: inherit;
    }
    .menu-item:hover { background: #1f2940; transform: translateY(-10px); border-color: #4c6ef5; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
    .menu-item h2 { margin: 0; font-size: 24px; }
    .menu-item p { color: #8492a6; margin-top: 10px; }
    .fire-alert { border-left: 5px solid #ff4d4d; }
  </style>
</head>
<body>
  <h1>APRS Central Control System</h1>
  <div class="menu-grid">
    <a href="/view/fire" class="menu-item fire-alert"><h2>ðŸ”¥ Fire Cam</h2><p>Webcam / Detection</p></a>
    <a href="/view/amr1" class="menu-item"><h2>ðŸ¤– AMR 01</h2><p>Robot 2 Feed</p></a>
    <a href="/view/amr2" class="menu-item"><h2>ðŸ¤– AMR 02</h2><p>Robot 3 Feed</p></a>
    <a href="/logs" class="menu-item"><h2>ðŸ“‹ Logs</h2><p>Anomaly History</p></a>
    <a href="/view/summary" class="menu-item" style="border-color: #4c6ef5;">
      <h2>âœ¨ AI Report</h2>
      <p>Gemini Intelligence Summary</p>
    </a>
  </div>

  <script>
    // ì–´ë–¤ íŽ˜ì´ì§€ì—ì„œë“  í™”ìž¬ ê°ì§€ ì‹œ ì•ŒëžŒ íŽ˜ì´ì§€ë¡œ ì´ë™
    setInterval(async () => {
      const st = await fetch('/api/status').then(r => r.json());
      if (st.fire) window.location.href = "/alarm";
    }, 1000);
  </script>
</body>
</html>